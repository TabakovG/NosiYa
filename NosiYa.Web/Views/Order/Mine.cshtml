@model ICollection<OrderViewModel>

@{
	ViewBag.Title = "Моите носии";
}

<h2 class="text-center">@ViewBag.Title</h2>
<hr />

@if (!Model.Any())
{
	<h2 class="text-center">Към момента нямате потвърдени резервации!</h2>
}

<div class="row">
	@foreach (OrderViewModel order in Model)
	{
		<div class="col-md-4">
			<div class="card mb-3">
				<img class="card-img-top" src="@order.SetImage" alt="Outfit Image">
				<div class="card-body text-center">

					<h4>@order.Name</h4>
					<br />
					<p class="">@order.FromDate</p>
					<p class="">@order.ToDate</p>
					@if (order.IsApproved)
					{
						<p class="text-success">Резервацията е одобрена</p>
					}
					else
					{
						<p class="text-warning">Резервацията изчаква одобрение!</p>
					}

					@if (DateTime.UtcNow.Date.AddDays(5) <= order.FromDate)
					{
					<a asp-controller="Order" asp-action="Delete" asp-route-orderId="@order.OrderId" class="btn btn-warning">Откажи</a>
					}

				</div>
			</div>
		</div>
	}
</div>

<script src="~/js/alert-confirm.js"></script>